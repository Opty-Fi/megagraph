specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  # --------------------------------------
  #      PoolContract - fDAI
  # --------------------------------------
  - kind: ethereum/contract
    name: HarvestPoolData
    network: mainnet
    source:
      address: "0x15d3A64B2d5ab9E152F16593Cdebc4bB165B5B4A"
      abi: HarvestPoolData
      startBlock: 11087156
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - LastUpdateTime
        - RewardRate
        - RewardPerTokenStored
      abis:
        - name: Vault
          file: ./abis/Vault.json
        - name: HarvestPoolData
          file: ./abis/HarvestPoolData.json
      eventHandlers:
        - event: RewardAdded(uint256)
          handler: handleRewardAdded
        - event: RewardDenied(indexed address,uint256)
          handler: handleRewardDenied
        - event: RewardPaid(indexed address,uint256)
          handler: handleRewardPaid
        - event: Staked(indexed address,uint256)
          handler: handleStaked
        - event: Withdrawn(indexed address,uint256)
          handler: handleWithdrawn
      file: ./src/mapping/pool.ts
  # --------------------------------------
  #      f3CRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault
    network: mainnet
    source:
      address: "0x71B9eC42bB3CB40F017D8AD8011BE8e384a95fa5"
      abi: Vault
      startBlock: 11159005
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fyDAI+yUSDC+yUSDT+yTUSD
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_yDAI_yUSDC_yUSDT_yTUSD
    network: mainnet
    source:
      address: "0x0FE4283e0216F94f5f9750a7a11AC54D3c9C38F3"
      abi: Vault
      startBlock: 11152258
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fDAI
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fDAI
    network: mainnet
    source:
      address: "0xab7fa2b2985bccfc13c6d86b1d5a17486ab1e04c"
      abi: Vault
      startBlock: 11086832
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
        - name: HarvestPoolData
          file: ./abis/HarvestPoolData.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fUSDC
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fUSDC
    network: mainnet
    source:
      address: "0xf0358e8c3CD5Fa238a29301d0bEa3D63A17bEdBE"
      abi: Vault
      startBlock: 11086842
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fUSDT
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fUSDT
    network: mainnet
    source:
      address: "0x053c80eA73Dc6941F518a68E2FC52Ac45BDE7c9C"
      abi: Vault
      startBlock: 11086849
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fTUSD
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fTUSD
    network: mainnet
    source:
      address: "0x7674622c63Bee7F46E86a4A5A18976693D54441b"
      abi: Vault
      startBlock: 10997721
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fcrvRenWBTC
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fcrvRenWBTC
    network: mainnet
    source:
      address: "0x9aA8F427A17d6B0d91B6262989EdC7D45d6aEdf8"
      abi: Vault
      startBlock: 11086865
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fWBTC
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fWBTC
    network: mainnet
    source:
      address: "0x5d9d25c7C457dD82fc8668FFC6B9746b674d4EcB"
      abi: Vault
      startBlock: 11068089
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      frenBTC
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_frenBTC
    network: mainnet
    source:
      address: "0xC391d1b08c1403313B0c28D47202DFDA015633C4"
      abi: Vault
      startBlock: 11086855
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fWETH
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fWETH
    network: mainnet
    source:
      address: "0xFE09e53A81Fe2808bc493ea64319109B5bAa573e"
      abi: Vault
      startBlock: 11086824
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fcDAI+cUSDC
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fcDAI_cUSDC
    network: mainnet
    source:
      address: "0x998cEb152A42a3EaC1f555B1E911642BeBf00faD"
      abi: Vault
      startBlock: 11257781
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fusdn3CRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fusdn3CRV
    network: mainnet
    source:
      address: "0x683E683fBE6Cf9b635539712c999f3B3EdCB8664"
      abi: Vault
      startBlock: 11257784
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fhCRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fhCRV
    network: mainnet
    source:
      address: "0xCC775989e76ab386E9253df5B0c0b473E22102E2"
      abi: Vault
      startBlock: 11380817
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fUNI-V2
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fUNI-V2
    network: mainnet
    source:
      address: "0x2a32dcBB121D48C106F6d94cf2B4714c0b4Dfe48"
      abi: Vault
      startBlock: 11374134
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      ftbtc/sbtcCrv
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_ftbtc_sbtcCrv
    network: mainnet
    source:
      address: "0x640704D106E79e105FDA424f05467F005418F1B5"
      abi: Vault
      startBlock: 11230944
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts
  # --------------------------------------
  #      fyDAI+yUSDC+yUSDT+yBUSD
  # --------------------------------------
  - kind: ethereum/contract
    name: Vault_fyDAI_yUSDC_yUSDT_yBUSD
    network: mainnet
    source:
      address: "0x4b1cBD6F6D8676AcE5E412C78B7a59b4A1bbb68a"
      abi: Vault
      startBlock: 11257802
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - PricePerFullShare
        - UnderlyingBalanceWithInvestment
        - UnderlyingBalanceInVault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: Deposit(indexed address,uint256)
          handler: handleDeposit
        - event: Invest(uint256)
          handler: handleInvest
        - event: StrategyChanged(address,address)
          handler: handleStrategyChanged
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdraw(indexed address,uint256)
          handler: handleWithdraw
      file: ./src/mapping/vault.ts