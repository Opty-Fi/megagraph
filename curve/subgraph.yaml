specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  # --------------------------------------
  #      Curve2Pool
  # --------------------------------------
  # --------------------------------------
  #      gusd3CRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve2Pool
    network: mainnet
    source:
      address: "0x4f062658EaAF2C1ccf8C8e36D6824CDf41167956"
      abi: Curve
      startBlock: 11005604
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve2Pool.json
      callHandlers:
        - function: remove_liquidity_one_coin(uint256,int128,uint256)
          handler: handleRemoveLiquidityOne
      eventHandlers:
        - event: TokenExchange(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchange
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[2],uint256[2],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve2Pool.ts
  # --------------------------------------
  #      husd3CRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve2Pool_husd3CRV
    network: mainnet
    source:
      address: "0x3eF6A01A0f81D6046290f3e2A8c5b843e738E604"
      abi: Curve
      startBlock: 11010070
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve2Pool.json
      callHandlers:
        - function: remove_liquidity_one_coin(uint256,int128,uint256)
          handler: handleRemoveLiquidityOne
      eventHandlers:
        - event: TokenExchange(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchange
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[2],uint256[2],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve2Pool.ts
  # --------------------------------------
  #      usdk3CRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve2Pool_usdk3CRV
    network: mainnet
    source:
      address: "0x3eF6A01A0f81D6046290f3e2A8c5b843e738E604"
      abi: Curve
      startBlock: 11010305
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve2Pool.json
      callHandlers:
        - function: remove_liquidity_one_coin(uint256,int128,uint256)
          handler: handleRemoveLiquidityOne
      eventHandlers:
        - event: TokenExchange(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchange
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[2],uint256[2],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve2Pool.ts
  # --------------------------------------
  #      usdn3CRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve2Pool_usdn3CRV
    network: mainnet
    source:
      address: "0x0f9cb53Ebe405d49A0bbdBD291A65Ff571bC83e1"
      abi: Curve
      startBlock: 11010514
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve2Pool.json
      callHandlers:
        - function: remove_liquidity_one_coin(uint256,int128,uint256)
          handler: handleRemoveLiquidityOne
      eventHandlers:
        - event: TokenExchange(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchange
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[2],uint256[2],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve2Pool.ts
  # --------------------------------------
  #      LinkUSD3CRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve2Pool_LinkUSD3CRV
    network: mainnet
    source:
      address: "0xE7a24EF0C5e95Ffb0f6684b813A78F2a3AD7D171"
      abi: Curve
      startBlock: 11011556
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve2Pool.json
      callHandlers:
        - function: remove_liquidity_one_coin(uint256,int128,uint256)
          handler: handleRemoveLiquidityOne
      eventHandlers:
        - event: TokenExchange(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchange
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[2],uint256[2],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve2Pool.ts
  # --------------------------------------
  #      musd3CRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve2Pool_musd3CRV
    network: mainnet
    source:
      address: "0x8474DdbE98F5aA3179B3B3F5942D724aFcdec9f6"
      abi: Curve
      startBlock: 11011940
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve2Pool.json
      callHandlers:
        - function: remove_liquidity_one_coin(uint256,int128,uint256)
          handler: handleRemoveLiquidityOne
      eventHandlers:
        - event: TokenExchange(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchange
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[2],uint256[2],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve2Pool.ts
  # --------------------------------------
  #      rsv3CRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve2Pool_rsv3CRV
    network: mainnet
    source:
      address: "0xC18cC39da8b11dA8c3541C598eE022258F9744da"
      abi: Curve
      startBlock: 11037531
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve2Pool.json
      callHandlers:
        - function: remove_liquidity_one_coin(uint256,int128,uint256)
          handler: handleRemoveLiquidityOne
      eventHandlers:
        - event: TokenExchange(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchange
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[2],uint256[2],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve2Pool.ts
  # --------------------------------------
  #      tbtc/sbtcCrv
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve2Pool_tbtc/sbtcCrv
    network: mainnet
    source:
      address: "0xC25099792E9349C7DD09759744ea681C7de2cb66"
      abi: Curve
      startBlock: 11095928
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve2Pool.json
      callHandlers:
        - function: remove_liquidity_one_coin(uint256,int128,uint256)
          handler: handleRemoveLiquidityOne
      eventHandlers:
        - event: TokenExchange(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchange
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[2],uint256[2],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve2Pool.ts
  # --------------------------------------
  #      dusd3CRV
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve2Pool_dusd3CRV
    network: mainnet
    source:
      address: "0x8038C01A0390a8c547446a0b2c18fc9aEFEcc10c"
      abi: Curve
      startBlock: 11187276
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve2Pool.json
      callHandlers:
        - function: remove_liquidity_one_coin(uint256,int128,uint256)
          handler: handleRemoveLiquidityOne
      eventHandlers:
        - event: TokenExchange(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchange
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[2],uint256[2],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[2],uint256[2],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve2Pool.ts
  # --------------------------------------
  #      Curve3Pool
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve3Pool
    network: mainnet
    source:
      address: "0xbEbc44782C7dB0a1A60Cb6fe97d0b483032FF1C7"
      abi: Curve
      startBlock: 10809473
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve3Pool.json
      callHandlers:
        - function: remove_liquidity_one_coin(uint256,int128,uint256)
          handler: handleRemoveLiquidityOne
      eventHandlers:
        - event: TokenExchange(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchange
        - event: AddLiquidity(indexed address,uint256[3],uint256[3],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[3],uint256[3],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[3],uint256[3],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve3Pool.ts
  # --------------------------------------
  #      Curve4Pool
  # --------------------------------------
  # --------------------------------------
  #      yDAI+yUSDC+yUSDT+yTUSD
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve4Pool
    network: mainnet
    source:
      address: "0x45F783CCE6B7FF23B2ab2D70e416cdb7D6055f51"
      abi: Curve
      startBlock: 9476468
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve4Pool.json
      eventHandlers:
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[4],uint256[4],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[4],uint256[4],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[4],uint256[4],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve4Pool.ts
  # --------------------------------------
  #      yDAI+yUSDC+yUSDT+yBUSD
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve4Pool_yDAI_yUSDC_yUSDT_yBUSD
    network: mainnet
    source:
      address: "0x79a8C46DeA5aDa233ABaFFD40F3A0A2B1e5A4F27"
      abi: Curve
      startBlock: 9476468
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve4Pool.json
      eventHandlers:
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[4],uint256[4],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[4],uint256[4],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[4],uint256[4],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve4Pool.ts
  # --------------------------------------
  #      crvPlain3andSUSD
  # --------------------------------------
  - kind: ethereum/contract
    name: Curve4Pool_crvPlain3andSUSD
    network: mainnet
    source:
      address: "0x79a8C46DeA5aDa233ABaFFD40F3A0A2B1e5A4F27"
      abi: Curve
      startBlock: 9476468
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Balances
        - VirtualPrice
      abis:
        - name: Curve
          file: ./abis/Curve4Pool.json
      eventHandlers:
        - event: TokenExchangeUnderlying(indexed address,int128,uint256,int128,uint256)
          handler: handleTokenExchangeUnderlying
        - event: AddLiquidity(indexed address,uint256[4],uint256[4],uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(indexed address,uint256[4],uint256[4],uint256)
          handler: handleRemoveLiquidity
        - event: RemoveLiquidityImbalance(indexed address,uint256[4],uint256[4],uint256,uint256)
          handler: handleRemoveLiquidityImbalance
      file: ./src/curve4Pool.ts